<!doctype html>
<html lang="en" xmlns:th="www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.rtl.min.css" >

 	<link rel="stylesheet" th:href="@{./css/styles.css}" />
    <title>Actualizar Visita</title>
  </head>
  <a style="text-align:right" class="btn btn-warning mb-2" th:href="@{/visitas}">Regresar</a>
  <body>
  <div>
   
  <h1 style="text-align:center">Actualiza Visita</h1>


<form th:action="@{/guardarVisita}" th:object="${visita}" method="POST">

<input hidden="hidden" th:field="*{id}" />

<div th:if="${errorMessage}" class="error-message">
    <h3 style="color:red" th:text="${errorMessage}"></h3>
</div>

<div class="mb-3">
    <label for="rolId" class="form-label">Cliente</label>
    <select class="form-control" th:field="*{cliente}">
        <option th:each="cliente:${clientes}" th:value="${cliente.id}" th:text="${cliente.id + ' - ' + cliente.nombres + ' ' + cliente.apellidos}"></option>
    </select>
</div>


<div class="mb-3">
    <label for="rolId" class="form-label">Tecnico a Asignar</label>
    <select class="form-control" th:field="*{usuarios}">
        <option th:each="usuario:${usuariosL}" th:value="${usuario.id}" th:text="${usuario.nombre}"></option>
    </select>
</div>

<div class="mb-3">
    <label for="fechaHoraInicio" class="form-label">Fecha y Hora de Inicio</label>
    <input type="datetime-local" id="fechaHoraInicio" class="form-control" th:field="*{fecha_hora_inicio}" />
</div>

<div class="mb-3">
    <label for="fechaHoraFin" class="form-label">Fecha y Hora de Fin</label>
    <input type="datetime-local" id="fechaHoraFin" class="form-control" th:field="*{fecha_hora_fin}" />
</div>
<div class="mb-3">
    <label for="coordenadasVisita" class="form-label">Coordenadas de Visita</label>
    <input type="text" id="coordenadasVisita" class="form-control" th:field="*{coordenadas_visita}" />
</div>

<div class="mb-3">
    <label for="reporte" class="form-label">Reporte</label>
    <textarea id="reporte" class="form-control" th:field="*{reporte}"></textarea>
</div>

<div class="mb-3">
    <label for="enviado" class="form-check-label">Enviado</label>
    <input type="checkbox" id="enviado" class="form-check-input" th:field="*{enviado}" />
</div>

<div class="mb-3">
    <label for="rolId" class="form-label">Estado Visita</label>
    <select class="form-control" th:field="*{estado}">
        <option th:each="estado:${estados}" th:value="${estado.id}" th:text="${estado.nombre}"></option>
    </select>
</div>

<button type="submit" class="btn btn-success">Actualizar Visita</button>
<br>


</form>

  </div>
  
  </body>
</html>